{
  "project": "ralph-demo",
  "description": "Refactor DeploymentTarget enum to database-backed Target entity",
  "stories": [
    {
      "id": "US-001",
      "title": "Create Target data class",
      "priority": 1,
      "passes": true,
      "acceptance_criteria": [
        "Create Target class with fields: id, name, environment, region, priority",
        "Include equals/hashCode based on id",
        "Include static factory method of(String name, String environment, String region, int priority)"
      ]
    },
    {
      "id": "US-002",
      "title": "Create TargetRepository interface",
      "priority": 1,
      "passes": true,
      "acceptance_criteria": [
        "Create TargetRepository interface",
        "Methods: findByName(String), findByEnvironment(String), findAll(), save(Target)",
        "Create InMemoryTargetRepository implementation for testing"
      ]
    },
    {
      "id": "US-003",
      "title": "Add conversion methods to DeploymentTarget enum",
      "priority": 2,
      "passes": true,
      "acceptance_criteria": [
        "Add toTarget() method that converts enum value to Target instance",
        "Add static fromTarget(Target) method that finds matching enum (or throws)",
        "Ensure round-trip conversion works for all enum values"
      ]
    },
    {
      "id": "US-004",
      "title": "Update Feature to support both Target and DeploymentTarget",
      "priority": 2,
      "passes": true,
      "acceptance_criteria": [
        "Add Target field to Feature class",
        "Add constructor that accepts Target instead of DeploymentTarget",
        "Add getTargetEntity() method",
        "Deprecate getTarget() method with @Deprecated annotation",
        "Existing tests must still pass"
      ]
    },
    {
      "id": "US-005",
      "title": "Update FeatureService to use Target",
      "priority": 3,
      "passes": true,
      "acceptance_criteria": [
        "Add isEnabledFor(Feature, Target) method",
        "Add getTargetsForEnvironment that returns List<Target>",
        "Deprecate methods that use DeploymentTarget",
        "Existing tests must still pass"
      ]
    },
    {
      "id": "US-006",
      "title": "Mark DeploymentTarget enum as deprecated",
      "priority": 3,
      "passes": true,
      "acceptance_criteria": [
        "Add @Deprecated annotation to DeploymentTarget enum",
        "Add deprecation Javadoc with migration instructions",
        "All tests pass with no compilation warnings in new code"
      ]
    }
  ]
}
